#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ТонкийКлиент Или ВнешнееСоединение Тогда


#Область ОбработчикиСобытий
Процедура ОбработкаПроведения(Отказ, Режим)

	// регистр ОстатокМЦ Приход
	Движения.ОстатокМЦ.Записывать = Истина;
	Движения.СерийныеНомера.Записывать = Истина;
	
	Для Каждого ТекСтрокаСписокМЦ Из СписокМЦ Цикл
		Движение = Движения.ОстатокМЦ.Добавить();
		Движение.ВидДвижения = ВидДвиженияНакопления.Приход;
		Движение.Период = Дата;
		Движение.МодельОборудования = ТекСтрокаСписокМЦ.МодельОборудования;
		Движение.Ответственный = Ответственный;
		Движение.Количество = ТекСтрокаСписокМЦ.Количество;
		
		// Информация
		
		Если ТекСтрокаСписокМЦ.Количество = 1 И ЗначениеЗаполнено(ТекСтрокаСписокМЦ.СерийныйНомер) Тогда
			Информация = Движения.СерийныеНомера.Добавить();
			Информация.Период = Дата;
			Информация.МодельОборудования = ТекСтрокаСписокМЦ.МодельОборудования;
			Информация.Ответственный = Ответственный;
			Информация.СерийныйНомер = ТекСтрокаСписокМЦ.СерийныйНомер;
		КонецЕсли
		
	КонецЦикла;
КонецПроцедуры

#КонецОбласти

#КонецЕсли
